//**************************************************************************************************
// @Module        Main
// @Filename      main.c
//--------------------------------------------------------------------------------------------------
// @Platform      Independent
//--------------------------------------------------------------------------------------------------
// @Compatible    Independent
//--------------------------------------------------------------------------------------------------
// @Description   This file contains main() function
//--------------------------------------------------------------------------------------------------
// @Version       2.0.0
//--------------------------------------------------------------------------------------------------
// @Date          31.05.2017
//--------------------------------------------------------------------------------------------------
// @History       Version  Author    Comment
// 02.04.2013     1.0.0    SHA       First release.
// 23.01.2014     1.0.1    SHA       Update of references to registers via the standard library
// 13.09.2014     1.0.2    SHA       Rename MCU_Change_Freq() to MCU_Init()
// 01.04.2015     1.0.3    SHA       Added Lock/Unlock write protection without call of functions
// 03.10.2016     1.0.4    SHA       Moved Lock/Unlock write protection to MCU_Init().
// 12.01.2017     1.0.5    ASD       Deleted Flash and EEPROM initialization.
// 31.05.2017     2.0.0    SHA       Second release.
//**************************************************************************************************



//**************************************************************************************************
// Project Includes
//**************************************************************************************************

// Get data types
#include "levels.h"
#include "irq_drv.h"
#include "mcu_drv.h"
#include "compiler.h"
#include "scheduler.h"



//**************************************************************************************************
// Definitions of global (public) variables
//**************************************************************************************************

// None


//**************************************************************************************************
// Declarations of local (private) data types
//**************************************************************************************************

// None.



//**************************************************************************************************
// Definitions of local (private) constants
//**************************************************************************************************

// None.



//**************************************************************************************************
// Definitions of static global (private) variables
//**************************************************************************************************

// None.



//**************************************************************************************************
// Prototypes of local (private) functions
//**************************************************************************************************

// None.



//**************************************************************************************************
//==================================================================================================
// Global (public) functions
//==================================================================================================
//**************************************************************************************************



//**************************************************************************************************
// @Function      main()
//--------------------------------------------------------------------------------------------------
// @Description   Main startup function.
//--------------------------------------------------------------------------------------------------
// @Notes         Never return from this function!
//--------------------------------------------------------------------------------------------------
// @ReturnValue   None.
//--------------------------------------------------------------------------------------------------
// @Parameters    None.
//**************************************************************************************************
SWORD main(void)
{
    // Set system clock
    MCU_Init();
    // Interrupts initialization
    IRQ_Init();



    // Scheduler initialization
    SCHDL_Init();
    SCHDL_Enable();

    // Start reset initialization
    SCHDL_StartLevel(LvReset);

    // If the scheduler startup fails, never return!
    while(1)
    {
        SCHDL_IncIdleCounter();
    }

}   // End of function main()



//**************************************************************************************************
//==================================================================================================
// Local (private) functions
//==================================================================================================
//**************************************************************************************************

// None.



//**************************************************************************************************
//==================================================================================================
// Definitions of interrupt service routines
//==================================================================================================
//**************************************************************************************************

// None.



//****************************************** end of file *******************************************
